---
layout:     post
title:      垃圾回收机制
categories: ['php']
tag: ['php']
description: 
---

1、引用计数
每个 php 变量都是存放在一个叫 zval 的变量容器中，这个容器中包含变量的类型和值，同时包含额外的两个字段。
一个是 is_ref，php 内部通过这个字段来判断当前变量是不是引用变量。
另外一个是 refcount，这个数值表示指向这个 zval 变量容器的变量个数。
  每增加一下引用，这个数值就会加1，当调用 unset 的时候，这个变量就会减1，当这个数值减到0的时候，这个容器变量就会从内存中删除。

使用 Xdebug 观察 zval 变量的变化信息

